import{R as $,j as V,s as gr}from"./index-Zo24_iUt.js";import{z as Z}from"./index-1lgs_sYf.js";import{l as vr}from"./jsonld-Cy7lahHf.js";var ue=e=>e.type==="checkbox",te=e=>e instanceof Date,j=e=>e==null;const Ge=e=>typeof e=="object";var E=e=>!j(e)&&!Array.isArray(e)&&Ge(e)&&!te(e),mr=e=>E(e)&&e.target?ue(e.target)?e.target.checked:e.target.value:e,xr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,br=(e,i)=>e.has(xr(i)),wr=e=>{const i=e.constructor&&e.constructor.prototype;return E(i)&&i.hasOwnProperty("isPrototypeOf")},Ne=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Q(e){let i;const s=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(Ne&&(e instanceof Blob||e instanceof FileList))&&(s||E(e)))if(i=s?[]:{},!s&&!wr(e))i=e;else for(const t in e)e.hasOwnProperty(t)&&(i[t]=Q(e[t]));else return e;return i}var ce=e=>Array.isArray(e)?e.filter(Boolean):[],S=e=>e===void 0,d=(e,i,s)=>{if(!i||!E(e))return s;const t=ce(i.split(/[,[\].]+?/)).reduce((o,a)=>j(o)?o:o[a],e);return S(t)||t===e?S(e[i])?s:e[i]:t};const We={BLUR:"blur",FOCUS_OUT:"focusout"},U={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},H={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};$.createContext(null);var pr=(e,i,s,t=!0)=>{const o={defaultValues:i._defaultValues};for(const a in e)Object.defineProperty(o,a,{get:()=>{const c=a;return i._proxyFormState[c]!==U.all&&(i._proxyFormState[c]=!t||U.all),e[c]}});return o},M=e=>E(e)&&!Object.keys(e).length,Vr=(e,i,s,t)=>{s(e);const{name:o,...a}=e;return M(a)||Object.keys(a).length>=Object.keys(i).length||Object.keys(a).find(c=>i[c]===U.all)},Ae=e=>Array.isArray(e)?e:[e];function _r(e){const i=$.useRef(e);i.current=e,$.useEffect(()=>{const s=!e.disabled&&i.current.subject&&i.current.subject.subscribe({next:i.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}var q=e=>typeof e=="string",Ar=(e,i,s,t,o)=>q(e)?(t&&i.watch.add(e),d(s,e,o)):Array.isArray(e)?e.map(a=>(t&&i.watch.add(a),d(s,a))):(t&&(i.watchAll=!0),s),Oe=e=>/^\w*$/.test(e),er=e=>ce(e.replace(/["|']|\]/g,"").split(/\.|\[/));function p(e,i,s){let t=-1;const o=Oe(i)?[i]:er(i),a=o.length,c=a-1;for(;++t<a;){const m=o[t];let g=s;if(t!==c){const D=e[m];g=E(D)||Array.isArray(D)?D:isNaN(+o[t+1])?{}:[]}e[m]=g,e=e[m]}return e}var rr=(e,i,s,t,o)=>i?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[t]:o||!0}}:{};const Ee=(e,i,s)=>{for(const t of s||Object.keys(e)){const o=d(e,t);if(o){const{_f:a,...c}=o;if(a&&i(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else E(c)&&Ee(c,i)}}};var He=e=>({isOnSubmit:!e||e===U.onSubmit,isOnBlur:e===U.onBlur,isOnChange:e===U.onChange,isOnAll:e===U.all,isOnTouch:e===U.onTouched}),$e=(e,i,s)=>!s&&(i.watchAll||i.watch.has(e)||[...i.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))),Fr=(e,i,s)=>{const t=ce(d(e,s));return p(t,"root",i[s]),p(e,s,t),e},se=e=>typeof e=="boolean",je=e=>e.type==="file",z=e=>typeof e=="function",ye=e=>{if(!Ne)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},de=e=>q(e),Ce=e=>e.type==="radio",he=e=>e instanceof RegExp;const Je={value:!1,isValid:!1},Ke={value:!0,isValid:!0};var tr=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===""?Ke:{value:e[0].value,isValid:!0}:Ke:Je}return Je};const Qe={isValid:!1,value:null};var sr=e=>Array.isArray(e)?e.reduce((i,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:i,Qe):Qe;function ze(e,i,s="validate"){if(de(e)||Array.isArray(e)&&e.every(de)||se(e)&&!e)return{type:s,message:de(e)?e:"",ref:i}}var re=e=>E(e)&&!he(e)?e:{value:e,message:""},Ye=async(e,i,s,t,o)=>{const{ref:a,refs:c,required:m,maxLength:g,minLength:D,min:J,max:A,pattern:b,validate:K,name:L,valueAsNumber:me,mount:fe,disabled:xe}=e._f,v=d(i,L);if(!fe||xe)return{};const R=c?c[0]:a,I=w=>{t&&R.reportValidity&&(R.setCustomValidity(se(w)?"":w||""),R.reportValidity())},N={},ie=Ce(a),ne=ue(a),be=ie||ne,P=(me||je(a))&&S(a.value)&&S(v)||ye(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,Y=rr.bind(null,L,s,N),W=(w,x,F,C=H.maxLength,T=H.minLength)=>{const B=w?x:F;N[L]={type:w?C:T,message:B,ref:a,...Y(w?C:T,B)}};if(o?!Array.isArray(v)||!v.length:m&&(!be&&(P||j(v))||se(v)&&!v||ne&&!tr(c).isValid||ie&&!sr(c).isValid)){const{value:w,message:x}=de(m)?{value:!!m,message:m}:re(m);if(w&&(N[L]={type:H.required,message:x,ref:R,...Y(H.required,x)},!s))return I(x),N}if(!P&&(!j(J)||!j(A))){let w,x;const F=re(A),C=re(J);if(!j(v)&&!isNaN(v)){const T=a.valueAsNumber||v&&+v;j(F.value)||(w=T>F.value),j(C.value)||(x=T<C.value)}else{const T=a.valueAsDate||new Date(v),B=le=>new Date(new Date().toDateString()+" "+le),X=a.type=="time",ae=a.type=="week";q(F.value)&&v&&(w=X?B(v)>B(F.value):ae?v>F.value:T>new Date(F.value)),q(C.value)&&v&&(x=X?B(v)<B(C.value):ae?v<C.value:T<new Date(C.value))}if((w||x)&&(W(!!w,F.message,C.message,H.max,H.min),!s))return I(N[L].message),N}if((g||D)&&!P&&(q(v)||o&&Array.isArray(v))){const w=re(g),x=re(D),F=!j(w.value)&&v.length>+w.value,C=!j(x.value)&&v.length<+x.value;if((F||C)&&(W(F,w.message,x.message),!s))return I(N[L].message),N}if(b&&!P&&q(v)){const{value:w,message:x}=re(b);if(he(w)&&!v.match(w)&&(N[L]={type:H.pattern,message:x,ref:a,...Y(H.pattern,x)},!s))return I(x),N}if(K){if(z(K)){const w=await K(v,i),x=ze(w,R);if(x&&(N[L]={...x,...Y(H.validate,x.message)},!s))return I(x.message),N}else if(E(K)){let w={};for(const x in K){if(!M(w)&&!s)break;const F=ze(await K[x](v,i),R,x);F&&(w={...F,...Y(x,F.message)},I(F.message),s&&(N[L]=w))}if(!M(w)&&(N[L]={ref:R,...w},!s))return N}}return I(!0),N};function kr(e,i){const s=i.slice(0,-1).length;let t=0;for(;t<s;)e=S(e)?t++:e[i[t++]];return e}function Sr(e){for(const i in e)if(e.hasOwnProperty(i)&&!S(e[i]))return!1;return!0}function O(e,i){const s=Array.isArray(i)?i:Oe(i)?[i]:er(i),t=s.length===1?e:kr(e,s),o=s.length-1,a=s[o];return t&&delete t[a],o!==0&&(E(t)&&M(t)||Array.isArray(t)&&Sr(t))&&O(e,s.slice(0,-1)),e}function Fe(){let e=[];return{get observers(){return e},next:o=>{for(const a of e)a.next&&a.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(a=>a!==o)}}),unsubscribe:()=>{e=[]}}}var ge=e=>j(e)||!Ge(e);function G(e,i){if(ge(e)||ge(i))return e===i;if(te(e)&&te(i))return e.getTime()===i.getTime();const s=Object.keys(e),t=Object.keys(i);if(s.length!==t.length)return!1;for(const o of s){const a=e[o];if(!t.includes(o))return!1;if(o!=="ref"){const c=i[o];if(te(a)&&te(c)||E(a)&&E(c)||Array.isArray(a)&&Array.isArray(c)?!G(a,c):a!==c)return!1}}return!0}var ir=e=>e.type==="select-multiple",Dr=e=>Ce(e)||ue(e),ke=e=>ye(e)&&e.isConnected,nr=e=>{for(const i in e)if(z(e[i]))return!0;return!1};function ve(e,i={}){const s=Array.isArray(e);if(E(e)||s)for(const t in e)Array.isArray(e[t])||E(e[t])&&!nr(e[t])?(i[t]=Array.isArray(e[t])?[]:{},ve(e[t],i[t])):j(e[t])||(i[t]=!0);return i}function ar(e,i,s){const t=Array.isArray(e);if(E(e)||t)for(const o in e)Array.isArray(e[o])||E(e[o])&&!nr(e[o])?S(i)||ge(s[o])?s[o]=Array.isArray(e[o])?ve(e[o],[]):{...ve(e[o])}:ar(e[o],j(i)?{}:i[o],s[o]):s[o]=!G(e[o],i[o]);return s}var Se=(e,i)=>ar(e,i,ve(i)),lr=(e,{valueAsNumber:i,valueAsDate:s,setValueAs:t})=>S(e)?e:i?e===""?NaN:e&&+e:s&&q(e)?new Date(e):t?t(e):e;function De(e){const i=e.ref;if(!(e.refs?e.refs.every(s=>s.disabled):i.disabled))return je(i)?i.files:Ce(i)?sr(e.refs).value:ir(i)?[...i.selectedOptions].map(({value:s})=>s):ue(i)?tr(e.refs).value:lr(S(i.value)?e.ref.value:i.value,e)}var Er=(e,i,s,t)=>{const o={};for(const a of e){const c=d(i,a);c&&p(o,a,c._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:t}},oe=e=>S(e)?e:he(e)?e.source:E(e)?he(e.value)?e.value.source:e.value:e,Nr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Xe(e,i,s){const t=d(e,s);if(t||Oe(s))return{error:t,name:s};const o=s.split(".");for(;o.length;){const a=o.join("."),c=d(i,a),m=d(e,a);if(c&&!Array.isArray(c)&&s!==a)return{name:s};if(m&&m.type)return{name:a,error:m};o.pop()}return{name:s}}var Or=(e,i,s,t,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(i||e):(s?t.isOnBlur:o.isOnBlur)?!e:(s?t.isOnChange:o.isOnChange)?e:!0,jr=(e,i)=>!ce(d(e,i)).length&&O(e,i);const Cr={mode:U.onSubmit,reValidateMode:U.onChange,shouldFocusError:!0};function Lr(e={},i){let s={...Cr,...e},t={submitCount:0,isDirty:!1,isLoading:z(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},o={},a=E(s.defaultValues)||E(s.values)?Q(s.defaultValues||s.values)||{}:{},c=s.shouldUnregister?{}:Q(a),m={action:!1,mount:!1,watch:!1},g={mount:new Set,unMount:new Set,array:new Set,watch:new Set},D,J=0;const A={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:Fe(),array:Fe(),state:Fe()},K=e.resetOptions&&e.resetOptions.keepDirtyValues,L=He(s.mode),me=He(s.reValidateMode),fe=s.criteriaMode===U.all,xe=r=>n=>{clearTimeout(J),J=setTimeout(r,n)},v=async r=>{if(A.isValid||r){const n=s.resolver?M((await P()).errors):await W(o,!0);n!==t.isValid&&b.state.next({isValid:n})}},R=r=>A.isValidating&&b.state.next({isValidating:r}),I=(r,n=[],l,y,f=!0,u=!0)=>{if(y&&l){if(m.action=!0,u&&Array.isArray(d(o,r))){const h=l(d(o,r),y.argA,y.argB);f&&p(o,r,h)}if(u&&Array.isArray(d(t.errors,r))){const h=l(d(t.errors,r),y.argA,y.argB);f&&p(t.errors,r,h),jr(t.errors,r)}if(A.touchedFields&&u&&Array.isArray(d(t.touchedFields,r))){const h=l(d(t.touchedFields,r),y.argA,y.argB);f&&p(t.touchedFields,r,h)}A.dirtyFields&&(t.dirtyFields=Se(a,c)),b.state.next({name:r,isDirty:x(r,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else p(c,r,n)},N=(r,n)=>{p(t.errors,r,n),b.state.next({errors:t.errors})},ie=(r,n,l,y)=>{const f=d(o,r);if(f){const u=d(c,r,S(l)?d(a,r):l);S(u)||y&&y.defaultChecked||n?p(c,r,n?u:De(f._f)):T(r,u),m.mount&&v()}},ne=(r,n,l,y,f)=>{let u=!1,h=!1;const _={name:r};if(!l||y){A.isDirty&&(h=t.isDirty,t.isDirty=_.isDirty=x(),u=h!==_.isDirty);const k=G(d(a,r),n);h=d(t.dirtyFields,r),k?O(t.dirtyFields,r):p(t.dirtyFields,r,!0),_.dirtyFields=t.dirtyFields,u=u||A.dirtyFields&&h!==!k}if(l){const k=d(t.touchedFields,r);k||(p(t.touchedFields,r,l),_.touchedFields=t.touchedFields,u=u||A.touchedFields&&k!==l)}return u&&f&&b.state.next(_),u?_:{}},be=(r,n,l,y)=>{const f=d(t.errors,r),u=A.isValid&&se(n)&&t.isValid!==n;if(e.delayError&&l?(D=xe(()=>N(r,l)),D(e.delayError)):(clearTimeout(J),D=null,l?p(t.errors,r,l):O(t.errors,r)),(l?!G(f,l):f)||!M(y)||u){const h={...y,...u&&se(n)?{isValid:n}:{},errors:t.errors,name:r};t={...t,...h},b.state.next(h)}R(!1)},P=async r=>s.resolver(c,s.context,Er(r||g.mount,o,s.criteriaMode,s.shouldUseNativeValidation)),Y=async r=>{const{errors:n}=await P();if(r)for(const l of r){const y=d(n,l);y?p(t.errors,l,y):O(t.errors,l)}else t.errors=n;return n},W=async(r,n,l={valid:!0})=>{for(const y in r){const f=r[y];if(f){const{_f:u,...h}=f;if(u){const _=g.array.has(u.name),k=await Ye(f,c,fe,s.shouldUseNativeValidation&&!n,_);if(k[u.name]&&(l.valid=!1,n))break;!n&&(d(k,u.name)?_?Fr(t.errors,k,u.name):p(t.errors,u.name,k[u.name]):O(t.errors,u.name))}h&&await W(h,n,l)}}return l.valid},w=()=>{for(const r of g.unMount){const n=d(o,r);n&&(n._f.refs?n._f.refs.every(l=>!ke(l)):!ke(n._f.ref))&&we(r)}g.unMount=new Set},x=(r,n)=>(r&&n&&p(c,r,n),!G(Le(),a)),F=(r,n,l)=>Ar(r,g,{...m.mount?c:S(n)?a:q(r)?{[r]:n}:n},l,n),C=r=>ce(d(m.mount?c:a,r,e.shouldUnregister?d(a,r,[]):[])),T=(r,n,l={})=>{const y=d(o,r);let f=n;if(y){const u=y._f;u&&(!u.disabled&&p(c,r,lr(n,u)),f=ye(u.ref)&&j(n)?"":n,ir(u.ref)?[...u.ref.options].forEach(h=>h.selected=f.includes(h.value)):u.refs?ue(u.ref)?u.refs.length>1?u.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(f)?!!f.find(_=>_===h.value):f===h.value)):u.refs[0]&&(u.refs[0].checked=!!f):u.refs.forEach(h=>h.checked=h.value===f):je(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||b.values.next({name:r,values:{...c}})))}(l.shouldDirty||l.shouldTouch)&&ne(r,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&le(r)},B=(r,n,l)=>{for(const y in n){const f=n[y],u=`${r}.${y}`,h=d(o,u);(g.array.has(r)||!ge(f)||h&&!h._f)&&!te(f)?B(u,f,l):T(u,f,l)}},X=(r,n,l={})=>{const y=d(o,r),f=g.array.has(r),u=Q(n);p(c,r,u),f?(b.array.next({name:r,values:{...c}}),(A.isDirty||A.dirtyFields)&&l.shouldDirty&&b.state.next({name:r,dirtyFields:Se(a,c),isDirty:x(r,u)})):y&&!y._f&&!j(u)?B(r,u,l):T(r,u,l),$e(r,g)&&b.state.next({...t}),b.values.next({name:r,values:{...c}}),!m.mount&&i()},ae=async r=>{const n=r.target;let l=n.name,y=!0;const f=d(o,l),u=()=>n.type?De(f._f):mr(r);if(f){let h,_;const k=u(),ee=r.type===We.BLUR||r.type===We.FOCUS_OUT,dr=!Nr(f._f)&&!s.resolver&&!d(t.errors,l)&&!f._f.deps||Or(ee,d(t.touchedFields,l),t.isSubmitted,me,L),Ve=$e(l,g,ee);p(c,l,k),ee?(f._f.onBlur&&f._f.onBlur(r),D&&D(0)):f._f.onChange&&f._f.onChange(r);const _e=ne(l,k,ee,!1),yr=!M(_e)||Ve;if(!ee&&b.values.next({name:l,type:r.type,values:{...c}}),dr)return A.isValid&&v(),yr&&b.state.next({name:l,...Ve?{}:_e});if(!ee&&Ve&&b.state.next({...t}),R(!0),s.resolver){const{errors:qe}=await P([l]),hr=Xe(t.errors,o,l),Ie=Xe(qe,o,hr.name||l);h=Ie.error,l=Ie.name,_=M(qe)}else h=(await Ye(f,c,fe,s.shouldUseNativeValidation))[l],y=isNaN(k)||k===d(c,l,k),y&&(h?_=!1:A.isValid&&(_=await W(o,!0)));y&&(f._f.deps&&le(f._f.deps),be(l,_,h,_e))}},le=async(r,n={})=>{let l,y;const f=Ae(r);if(R(!0),s.resolver){const u=await Y(S(r)?r:f);l=M(u),y=r?!f.some(h=>d(u,h)):l}else r?(y=(await Promise.all(f.map(async u=>{const h=d(o,u);return await W(h&&h._f?{[u]:h}:h)}))).every(Boolean),!(!y&&!t.isValid)&&v()):y=l=await W(o);return b.state.next({...!q(r)||A.isValid&&l!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:l}:{},errors:t.errors,isValidating:!1}),n.shouldFocus&&!y&&Ee(o,u=>u&&d(t.errors,u),r?f:g.mount),y},Le=r=>{const n={...a,...m.mount?c:{}};return S(r)?n:q(r)?d(n,r):r.map(l=>d(n,l))},Te=(r,n)=>({invalid:!!d((n||t).errors,r),isDirty:!!d((n||t).dirtyFields,r),isTouched:!!d((n||t).touchedFields,r),error:d((n||t).errors,r)}),ur=r=>{r&&Ae(r).forEach(n=>O(t.errors,n)),b.state.next({errors:r?t.errors:{}})},Me=(r,n,l)=>{const y=(d(o,r,{_f:{}})._f||{}).ref;p(t.errors,r,{...n,ref:y}),b.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},cr=(r,n)=>z(r)?b.values.subscribe({next:l=>r(F(void 0,n),l)}):F(r,n,!0),we=(r,n={})=>{for(const l of r?Ae(r):g.mount)g.mount.delete(l),g.array.delete(l),n.keepValue||(O(o,l),O(c,l)),!n.keepError&&O(t.errors,l),!n.keepDirty&&O(t.dirtyFields,l),!n.keepTouched&&O(t.touchedFields,l),!s.shouldUnregister&&!n.keepDefaultValue&&O(a,l);b.values.next({values:{...c}}),b.state.next({...t,...n.keepDirty?{isDirty:x()}:{}}),!n.keepIsValid&&v()},pe=(r,n={})=>{let l=d(o,r);const y=se(n.disabled);return p(o,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...n}}),g.mount.add(r),S(n.value)||p(c,r,n.value),l?y&&p(c,r,n.disabled?void 0:d(c,r,De(l._f))):ie(r,!0,n.value),{...y?{disabled:n.disabled}:{},...s.progressive?{required:!!n.required,min:oe(n.min),max:oe(n.max),minLength:oe(n.minLength),maxLength:oe(n.maxLength),pattern:oe(n.pattern)}:{},name:r,onChange:ae,onBlur:ae,ref:f=>{if(f){pe(r,n),l=d(o,r);const u=S(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,h=Dr(u),_=l._f.refs||[];if(h?_.find(k=>k===u):u===l._f.ref)return;p(o,r,{_f:{...l._f,...h?{refs:[..._.filter(ke),u,...Array.isArray(d(a,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),ie(r,!1,void 0,u)}else l=d(o,r,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||n.shouldUnregister)&&!(br(g.array,r)&&m.action)&&g.unMount.add(r)}}},Re=()=>s.shouldFocusError&&Ee(o,r=>r&&d(t.errors,r),g.mount),Ue=(r,n)=>async l=>{l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let y=Q(c);if(b.state.next({isSubmitting:!0}),s.resolver){const{errors:f,values:u}=await P();t.errors=f,y=u}else await W(o);O(t.errors,"root"),M(t.errors)?(b.state.next({errors:{}}),await r(y,l)):(n&&await n({...t.errors},l),Re(),setTimeout(Re)),b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:M(t.errors),submitCount:t.submitCount+1,errors:t.errors})},fr=(r,n={})=>{d(o,r)&&(S(n.defaultValue)?X(r,d(a,r)):(X(r,n.defaultValue),p(a,r,n.defaultValue)),n.keepTouched||O(t.touchedFields,r),n.keepDirty||(O(t.dirtyFields,r),t.isDirty=n.defaultValue?x(r,d(a,r)):x()),n.keepError||(O(t.errors,r),A.isValid&&v()),b.state.next({...t}))},Pe=(r,n={})=>{const l=r||a,y=Q(l),f=r&&!M(r)?y:a;if(n.keepDefaultValues||(a=l),!n.keepValues){if(n.keepDirtyValues||K)for(const u of g.mount)d(t.dirtyFields,u)?p(f,u,d(c,u)):X(u,d(f,u));else{if(Ne&&S(r))for(const u of g.mount){const h=d(o,u);if(h&&h._f){const _=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(ye(_)){const k=_.closest("form");if(k){k.reset();break}}}}o={}}c=e.shouldUnregister?n.keepDefaultValues?Q(a):{}:Q(f),b.array.next({values:{...f}}),b.values.next({values:{...f}})}g={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!m.mount&&i(),m.mount=!A.isValid||!!n.keepIsValid,m.watch=!!e.shouldUnregister,b.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!G(r,a)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:n.keepDirtyValues?t.dirtyFields:n.keepDefaultValues&&r?Se(a,r):{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Be=(r,n)=>Pe(z(r)?r(c):r,n);return{control:{register:pe,unregister:we,getFieldState:Te,handleSubmit:Ue,setError:Me,_executeSchema:P,_getWatch:F,_getDirty:x,_updateValid:v,_removeUnmounted:w,_updateFieldArray:I,_getFieldArray:C,_reset:Pe,_resetDefaultValues:()=>z(s.defaultValues)&&s.defaultValues().then(r=>{Be(r,s.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:r=>{t={...t,...r}},_subjects:b,_proxyFormState:A,get _fields(){return o},get _formValues(){return c},get _state(){return m},set _state(r){m=r},get _defaultValues(){return a},get _names(){return g},set _names(r){g=r},get _formState(){return t},set _formState(r){t=r},get _options(){return s},set _options(r){s={...s,...r}}},trigger:le,register:pe,handleSubmit:Ue,watch:cr,setValue:X,getValues:Le,reset:Be,resetField:fr,clearErrors:ur,unregister:we,setError:Me,setFocus:(r,n={})=>{const l=d(o,r),y=l&&l._f;if(y){const f=y.refs?y.refs[0]:y.ref;f.focus&&(f.focus(),n.shouldSelect&&f.select())}},getFieldState:Te}}function Tr(e={}){const i=$.useRef(),s=$.useRef(),[t,o]=$.useState({isDirty:!1,isValidating:!1,isLoading:z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:z(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...Lr(e,()=>o(c=>({...c}))),formState:t});const a=i.current.control;return a._options=e,_r({subject:a._subjects.state,next:c=>{Vr(c,a._proxyFormState,a._updateFormState)&&o({...a._formState})}}),$.useEffect(()=>{e.values&&!G(e.values,s.current)?(a._reset(e.values,a._options.resetOptions),s.current=e.values):a._resetDefaultValues()},[e.values,a]),$.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),i.current.formState=pr(t,a),i.current}var Ze=function(e,i,s){if(e&&"reportValidity"in e){var t=d(s,i);e.setCustomValidity(t&&t.message||""),e.reportValidity()}},or=function(e,i){var s=function(o){var a=i.fields[o];a&&a.ref&&"reportValidity"in a.ref?Ze(a.ref,o,e):a.refs&&a.refs.forEach(function(c){return Ze(c,o,e)})};for(var t in i.fields)s(t)},Mr=function(e,i){i.shouldUseNativeValidation&&or(e,i);var s={};for(var t in e){var o=d(i.fields,t),a=Object.assign(e[t]||{},{ref:o&&o.ref});if(Rr(i.names||Object.keys(e),t)){var c=Object.assign({},d(s,t));p(c,"root",a),p(s,t,c)}else p(s,t,a)}return s},Rr=function(e,i){return e.some(function(s){return s.startsWith(i+".")})},Ur=function(e,i){for(var s={};e.length;){var t=e[0],o=t.code,a=t.message,c=t.path.join(".");if(!s[c])if("unionErrors"in t){var m=t.unionErrors[0].errors[0];s[c]={message:m.message,type:m.code}}else s[c]={message:a,type:o};if("unionErrors"in t&&t.unionErrors.forEach(function(J){return J.errors.forEach(function(A){return e.push(A)})}),i){var g=s[c].types,D=g&&g[t.code];s[c]=rr(c,i,s,o,D?[].concat(D,t.message):t.message)}e.shift()}return s},Pr=function(e,i,s){return s===void 0&&(s={}),function(t,o,a){try{return Promise.resolve(function(c,m){try{var g=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](t,i)).then(function(D){return a.shouldUseNativeValidation&&or({},a),{errors:{},values:s.raw?t:D}})}catch(D){return m(D)}return g&&g.then?g.then(void 0,m):g}(0,function(c){if(function(m){return m.errors!=null}(c))return{values:{},errors:Mr(Ur(c.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw c}))}catch(c){return Promise.reject(c)}}};const Br=Z.object({name:Z.string().min(2),email:Z.string().email().optional(),phone:Z.string().min(7),contactMethod:Z.enum(["phone","sms","email"]).optional(),category:Z.string().optional(),message:Z.string().min(5).optional()});function qr(){const{register:e,handleSubmit:i,formState:s}=Tr({resolver:Pr(Br)});async function t(o){try{if(!(await fetch("/api/contact",{method:"POST",body:JSON.stringify(o)})).ok)throw new Error("Network error");alert("Message sent — we will be in touch!")}catch{alert("Error sending message")}}return V.jsxs("form",{onSubmit:i(t),className:"space-y-3 max-w-lg",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm",children:"Name"}),V.jsx("input",{...e("name"),className:"w-full p-2 border rounded"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm",children:"Email"}),V.jsx("input",{...e("email"),className:"w-full p-2 border rounded"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm",children:"Phone"}),V.jsx("input",{...e("phone"),className:"w-full p-2 border rounded"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm",children:"Message"}),V.jsx("textarea",{...e("message"),className:"w-full p-2 border rounded"})]}),V.jsx("div",{children:V.jsx("button",{className:"btn px-4 py-2 bg-primary text-white rounded",type:"submit",disabled:s.isSubmitting,children:"Send Message"})})]})}const Ir=[{q:"How do estimates work?",a:"Share photos and a brief description. For straightforward jobs, we can give a ballpark or fixed price remotely. Larger projects may need an on‑site visit."},{q:"What are your hours?",a:"Weekdays 8am–6pm and Saturdays 9am–2pm. After‑hours by request for emergencies."},{q:"Do you warranty your work?",a:"Yes—most handyman work includes a 1‑year workmanship warranty. Materials are covered by manufacturer warranties."},{q:"How do you charge?",a:"We typically quote by the job. If scope is uncertain, we can propose a capped time‑and‑materials rate."}];function Wr(){return V.jsxs("section",{className:"mt-10",children:[V.jsx("h2",{className:"text-2xl font-heading",children:"FAQ"}),V.jsx("div",{className:"mt-4 grid md:grid-cols-2 gap-4",children:Ir.map(e=>V.jsxs("div",{className:"bg-white rounded-2xl shadow p-4",children:[V.jsx("div",{className:"font-medium",children:e.q}),V.jsx("div",{className:"text-sm text-gray-700 mt-1",children:e.a})]},e.q))})]})}function Yr(){return $.useEffect(()=>{const e=document.createElement("script");return e.type="application/ld+json",e.text=JSON.stringify(vr()),document.head.appendChild(e),()=>e.remove()},[]),V.jsxs("div",{children:[V.jsxs("h1",{className:"font-heading text-3xl",children:["Contact ",gr.businessName]}),V.jsx("p",{className:"mt-2",children:"Call, text, or send a message using the form."}),V.jsx("div",{className:"mt-6",children:V.jsx(qr,{})}),V.jsx(Wr,{})]})}export{Yr as default};
